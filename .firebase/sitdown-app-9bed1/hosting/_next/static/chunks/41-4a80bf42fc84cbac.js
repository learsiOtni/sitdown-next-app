(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{8957:function(e,t,r){"use strict";var s=r(7437),a=r(8875),n=r(1962);t.Z=e=>{let t,{className:r,type:l,icon:o,iconStyle:c,bgNone:i,dropdown:d,children:u,onClick:p}=e,x="",b="whitespace-nowrap rounded py-2 text-white bg-primary shadow-md hover:opacity-70",h="whitespace-nowrap py-3 px-5 hover:bg-slate-100 ";return r?(x="".concat(b," ").concat(r),i&&(x="".concat(h," ").concat(r))):i&&(x=h),o&&(x="".concat(x," flex px-5")),d&&(t=(0,s.jsx)("span",{className:"inline-block ml-2 ",children:(0,s.jsx)(n.Z,{direction:"down",color:"border-b-[#FFFFFF]",size:"sm"})})),(0,s.jsxs)("button",{className:x||b,onClick:p,type:l,children:[o?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)(a.Z,{name:o,iconContainerStyle:c}),(0,s.jsx)("div",{className:"ml-2.5",children:u})]}):(0,s.jsx)(s.Fragment,{children:u}),t]})}},1361:function(e,t,r){"use strict";r.d(t,{Z:function(){return C}});var s=r(7437),a=r(2265);function n(e){let{label:t,error:r,config:n,value:l,onChange:o}=e,[c,i]=(0,a.useState)(l);return(0,s.jsx)("input",{className:"p-2 ".concat(t?"mb-5":"mb-3"," border rounded text-lg bg-[#FBFBFD] ").concat(r&&"border-error"," last:mb-0"),...n,value:c,onChange:e=>{i(e.target.value),o(e.target.name,e.target.value)}})}var l=r(8862),o=r(8875),c=r(1962);function i(e){let{onChange:t,error:r,value:n}=e,i=(0,a.useRef)(null),[d,u]=(0,a.useState)(!1),[p,x]=(0,a.useState)(),[b,h]=(0,a.useState)([]),f=(0,l.CG)(e=>e.projects.projects),j=(0,l.CG)(e=>e.auth.credentials.user.id),m=(0,l.CG)(e=>e.projects.status),g=(0,a.useCallback)(()=>{u(!d)},[d]);(0,a.useEffect)(()=>{x(f.find(e=>e.id===n))},[n,f]),(0,a.useEffect)(()=>{(f.length>0||"editSucceeded"===m)&&h(f.filter(e=>{var t,r;return j===(null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.id)||(null==e?void 0:null===(r=e.teamMembers)||void 0===r?void 0:r.includes(j))}))},[f,m,j]),(0,a.useEffect)(()=>{let e=i.current;return null==e||e.addEventListener("click",g),()=>null==e?void 0:e.removeEventListener("click",g)},[d,g]);let v=(e,r)=>{let s=e.currentTarget.getAttribute("data-value");x(r),g(),t("projectId",s)};return(0,s.jsxs)("div",{className:"relative mb-3",children:[(0,s.jsxs)("div",{className:"mb-1 p-2 border rounded text-lg bg-[#FBFBFD] flex-between cursor-pointer ".concat(r&&"border-error"),ref:i,children:[(0,s.jsx)("p",{className:"text-body h-7",children:null==p?void 0:p.title}),d?(0,s.jsx)(c.Z,{direction:"up",color:"border-[#222222]",size:"sm"}):(0,s.jsx)(c.Z,{direction:"down",color:"border-[#222222]",size:"sm"})]}),(0,s.jsx)("div",{className:"bg-gray-100 absolute w-full z-10 border rounded ".concat(d?"block":"hidden"),children:(0,s.jsx)("ul",{className:"text-body cursor-pointer max-h-[180px] overflow-scroll",children:b.length>0?b.map(e=>(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"p-2 w-full flex-between hover:bg-body/10 ".concat((null==p?void 0:p.id)===e.id&&"text-black"),type:"button",onClick:t=>v(t,e),"data-value":e.id,children:[(0,s.jsx)("p",{children:e.title}),(null==p?void 0:p.id)===e.id&&(0,s.jsx)(o.Z,{name:"check"})]})},e.id)):(0,s.jsx)("li",{className:"p-2.5 text-caption-2",children:"No Project found!"},"no-project")})})]})}var d=r(8762),u=r(2507);function p(e){let{onChange:t,value:r}=e,[n,c]=(0,a.useState)([]),[i,p]=(0,a.useState)([]),[x,b]=(0,a.useState)(!1),h=(0,l.TL)(),f=(0,l.CG)(e=>e.projects.teamMembers),j=(0,l.CG)(e=>e.auth.credentials.user.id),m=()=>{b(!x)};(0,a.useEffect)(()=>{f.length<=0&&h((0,d.Rf)())},[h,f.length]),(0,a.useEffect)(()=>{let e=[],t=[],s=[];r.length>0&&r.forEach(e=>{s.push(e.id)}),f.forEach(r=>{s.includes(r.id)?t.push(r):e.push(r)}),p(e.filter(e=>e.id!==j)),c(t)},[f,j,r]);let g=e=>{let r=n.concat(e);p(i.filter(t=>t.id!==e.id)),c(r),t("teamMembers",r)},v=e=>{let r=n.filter(t=>t.id!==e.id);p(i.concat(e)),c(r),t("teamMembers",r)};return(0,s.jsxs)("div",{className:"flex flex-col mb-3.5",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(o.Z,{name:"add",size:"2x",onClick:m,iconContainerStyle:"cursor-pointer text-primary self-start mr-3 hover:opacity-70"}),(0,s.jsx)("div",{className:"flex gap-3 overflow-scroll",children:n.length>0&&n.map(e=>(0,s.jsxs)("div",{className:"w-[60px] flex-col-center",children:[(0,s.jsxs)("div",{className:"relative w-[50px] h-[50px] min-w-[50px] mb-1.5",children:[(0,s.jsx)(u.Z,{image:e.image}),(0,s.jsx)(o.Z,{name:"close",iconContainerStyle:"absolute text-error opacity-70 cursor-pointer top-0 right-0 hover:opacity-100",onClick:()=>v(e)})]}),(0,s.jsx)("p",{className:"text-xs text-body capitalize",children:e.firstname}),(0,s.jsx)("p",{className:"text-xs text-body capitalize",children:e.lastname})]},e.id))})]}),x&&(0,s.jsxs)("div",{className:"bg-[#F5F7FA] rounded-md mt-2.5 p-2",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2.5",children:[(0,s.jsx)("p",{className:"text-xs text-body",children:"Please Choose a Member:"}),(0,s.jsx)(o.Z,{name:"close",onClick:m,iconContainerStyle:"text-body cursor-pointer hover:text-black"})]}),(0,s.jsx)("div",{className:"flex gap-3 overflow-scroll",children:i.length>0?i.map(e=>(0,s.jsx)("div",{className:"w-[60px] mb-2.5 cursor-pointer hover:opacity-70",children:(0,s.jsxs)("button",{onClick:()=>g(e),children:[(0,s.jsx)("div",{className:"relative w-[50px] h-[50px] min-w-[50px] mb-1.5",children:(0,s.jsx)(u.Z,{image:e.image})}),(0,s.jsx)("p",{className:"text-xs text-body capitalize",children:e.firstname}),(0,s.jsx)("p",{className:"text-xs text-body capitalize",children:e.lastname})]})},e.id)):(0,s.jsx)("p",{className:"text-body",children:"No Members Found!"})})]})]})}var x=r(6932),b=r(848),h=r(6841),f=r.n(h);function j(e){let{editor:t}=e;return t?(0,s.jsxs)("div",{className:f().toolbar,children:[(0,s.jsxs)("select",{onChange:e=>{t.chain().focus().toggleHeading({level:Number(e.target.value)}).run()},className:f().select,value:0,children:[(0,s.jsx)("option",{disabled:!0,value:0,children:"Heading:"}),(0,s.jsx)("option",{value:1,children:"H1"}),(0,s.jsx)("option",{value:2,children:"H2"}),(0,s.jsx)("option",{value:3,children:"H3"})]}),(0,s.jsx)("button",{type:"button",className:f().button,onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),"data-active":t.isActive("bold")?"is-active":void 0,"aria-label":"bold",children:(0,s.jsx)("strong",{children:"B"})}),(0,s.jsx)("button",{type:"button",className:f().button,onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),"data-active":t.isActive("italic")?"is-active":void 0,"aria-label":"italic",children:(0,s.jsx)("em",{children:"I"})}),(0,s.jsx)("button",{type:"button",className:f().button,onClick:()=>t.chain().focus().toggleUnderline().run(),disabled:!t.can().chain().focus().toggleUnderline().run(),"data-active":t.isActive("underline")?"is-active":void 0,"aria-label":"italic",children:(0,s.jsx)("u",{children:"U"})}),(0,s.jsx)("button",{type:"button",className:f().button,onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!t.can().chain().focus().toggleStrike().run(),"data-active":t.isActive("strike")?"is-active":void 0,"aria-label":"strikethrough",children:(0,s.jsx)("s",{children:"S"})}),(0,s.jsx)("button",{type:"button",className:f().button,onClick:()=>t.chain().focus().toggleBulletList().run(),"data-active":t.isActive("bulletList")?"is-active":void 0,children:(0,s.jsx)(o.Z,{name:"list"})}),(0,s.jsx)("button",{type:"button",className:f().button,onClick:()=>t.chain().focus().toggleOrderedList().run(),"data-active":t.isActive("orderedList")?"is-active":void 0,children:(0,s.jsx)(o.Z,{name:"orList"})})]}):null}var m=r(3127),g=r.n(m),v=r(6565);function y(e){let{onChange:t,error:r,value:a}=e,n=(0,x.jE)({editorProps:{attributes:{class:"".concat(g().tiptapEditor," prose max-w-none [&_ol]:list-decimal [&_ul]:list-disc")}},content:a,extensions:[b.Z,v.Z]}),l=e=>{t("body",e)};return null==n||n.on("update",e=>{let{editor:t}=e;l(null==t?void 0:t.getJSON())}),(0,s.jsxs)("div",{className:"".concat(g().container," ").concat(r&&"border-error"),children:[(0,s.jsx)(j,{editor:n}),(0,s.jsx)(x.kg,{editor:n})]})}function N(e){let{elementType:t,config:r,value:a,onChange:l,error:o,label:c,subLabel:d}=e,u=(0,s.jsx)(n,{config:r,value:a,onChange:l,error:o,label:c});return"editor"===t&&(u=(0,s.jsx)(y,{value:a,onChange:l,error:o})),"projectMenu"===t&&(u=(0,s.jsx)(i,{value:a,onChange:l,error:o})),"teamMenu"===t&&(u=(0,s.jsx)(p,{value:a,onChange:l,error:o})),(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsxs)("p",{className:"pb-1.5 text-caption-2",children:[c,d&&(0,s.jsx)("span",{className:"ml-[5px] text-xs text-body opacity-60",children:d})]}),o&&(0,s.jsx)("p",{className:"text-xs text-error",children:o}),u]})}function C(e){let{formFile:t,className:r,onSubmit:n,children:l,errors:o}=e,[c,i]=(0,a.useState)(t),d=Object.keys(t),u=(e,t)=>{i({...c,[e]:{...c[e],value:t}})};return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t={};d.forEach(e=>{t={...t,[e]:c[e].value}}),n(t)},className:r,children:[Object.keys(c).length>0&&d.map(e=>(0,s.jsx)(N,{config:c[e].config,value:c[e].value,onChange:u,error:o&&o[e]&&o[e],label:c[e].label,subLabel:c[e].subLabel,elementType:c[e].elementType},e)),l]})}},8875:function(e,t,r){"use strict";var s=r(7437),a=r(2759),n=r(7188),l=r(504);t.Z=e=>{let{name:t,iconContainerStyle:r,background:o,size:c,onClick:i}=e,d=n.kZ_,u="flex items-center justify-center ".concat(r),p="";return"updates"===t&&(p="-scale-y-100 rotate-45"),"projects"===t&&(p="-scale-y-100"),"dashboard"===t&&(d=a.g4A)&&o&&(u+=" bg-yellow"),"updates"===t&&(d=a.T80)&&o&&(u+=" bg-yellow"),"tags"===t&&(d=a.LEN)&&o&&(u+=" bg-purple"),"users"===t&&(d=a.r$M)&&o&&(u+=" bg-red"),"projects"===t&&(d=n.kZ_)&&o&&(u+=" bg-blue"),"add"===t&&(d=a.KtF)&&o&&(p+=" text-brand"),"edit"===t&&(d=a.IwR)&&(u+=" border-b-4"),"search"===t&&(d=a.wn1),"notification"===t&&(d=a.qmU),"delete"===t&&(d=a.$aW),"user"===t&&(d=a.ILF),"settings"===t&&(d=a.gr5),"close"===t&&(d=a.NBC),"list"===t&&(d=a.Zrf),"orList"===t&&(d=a.nFo),"check"===t&&(d=a.LEp),(0,s.jsx)("div",{className:u,children:(0,s.jsx)(l.G,{icon:d,className:p,size:c,onClick:i})})}},1962:function(e,t,r){"use strict";var s=r(7437);t.Z=e=>{let t,{direction:r,color:a,size:n}=e,l="w-0 h-0 \n        border-l-[7.5px] border-l-transparent\n        border-t-[10px] ".concat(a,"\n        border-r-[7.5px] border-r-transparent"),o="w-0 h-0\n        border-l-[7.5px] border-l-transparent\n        border-b-[10px] ".concat(a,"\n        border-r-[7.5px] border-r-transparent");return"sm"===n&&(l="w-0 h-0 \n            border-l-[5px] border-l-transparent\n            border-t-[7.5px] ".concat(a,"\n            border-r-[5px] border-r-transparent"),o="w-0 h-0\n            border-l-[5px] border-l-transparent\n            border-b-[7.5px] ".concat(a,"\n            border-r-[5px] border-r-transparent")),"up"===r&&(t=o),"down"===r&&(t=l),(0,s.jsx)("div",{className:t})}},2507:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(7437),a=r(6691),n=r.n(a);function l(e){let{image:t}=e;return(0,s.jsx)(s.Fragment,{children:t?(0,s.jsx)("img",{src:t,alt:"user profile",className:"rounded-full object-cover w-full h-full m-w-full"}):(0,s.jsx)(n(),{src:"/noavatar.png",fill:!0,alt:"user profile image",className:"rounded-full"})})}},8762:function(e,t,r){"use strict";r.d(t,{NV:function(){return o},Rf:function(){return c},Tf:function(){return u},b9:function(){return p},bl:function(){return n},th:function(){return i},yq:function(){return l}});var s=r(4332),a=r(4302);let n=(0,a.hg)("/projects/fetchProjects",async(e,t)=>{let{rejectWithValue:r}=t,a=await s.h.get("".concat("https://us-central1-sitdown-834fc.cloudfunctions.net/api/","projects"));return a.error?r(a):a}),l=(0,a.hg)("/projects/postProject",async(e,t)=>{let{body:r,token:a,userInfo:n}=e,{rejectWithValue:l}=t,o=await s.h.post("".concat("https://us-central1-sitdown-834fc.cloudfunctions.net/api/","projects"),r,a);if(!o.id)return l(o);let{userId:c,...i}=o;return{...i,user:n}}),o=(0,a.hg)("/projects/editProject",async(e,t)=>{let{body:r,token:a,userInfo:n,id:l}=e,{rejectWithValue:o}=t,c=await s.h.post("".concat("https://us-central1-sitdown-834fc.cloudfunctions.net/api/","projects/").concat(l),r,a);if(!c.id)return o(c);let{userId:i,...d}=c;return{...d,user:n}}),c=(0,a.hg)("/projects/getUsers",async(e,t)=>{let{rejectWithValue:r}=t,a=await s.h.get("".concat("https://us-central1-sitdown-834fc.cloudfunctions.net/api/","users"));return a.error?r(a):a}),i=(0,a.hg)("/project/deleteProject",async(e,t)=>{let{id:r,token:a}=e,{rejectWithValue:n}=t,l=await s.h.delete("".concat("https://us-central1-sitdown-834fc.cloudfunctions.net/api/","projects/").concat(r),null,a);return l.error?n(l):{id:r,message:l}}),d=(0,a.oM)({name:"projects",initialState:{projects:[],status:"idle",errors:{},teamMembers:[]},reducers:{setStatus:(e,t)=>{e.status=t.payload},clearErrors:e=>{e.errors={}}},extraReducers(e){e.addCase(n.pending,e=>{e.status="loading",e.errors={}}).addCase(n.fulfilled,(e,t)=>{e.status="fetchSucceeded",e.projects=e.projects.concat(t.payload)}).addCase(n.rejected,(e,t)=>{e.status="failed",e.errors=t.error.message}).addCase(l.pending,e=>{e.errors={},e.status="loading"}).addCase(l.fulfilled,(e,t)=>{e.status="postSucceeded",e.projects.unshift(t.payload),e.errors={}}).addCase(l.rejected,(e,t)=>{e.status="failed",e.errors=t.payload}).addCase(o.pending,(e,t)=>{e.status="loading",e.errors={}}).addCase(o.fulfilled,(e,t)=>{let r=e.projects.findIndex(e=>e.id===t.payload.id);e.status="editSucceeded",e.projects[r]=t.payload,e.errors={}}).addCase(o.rejected,(e,t)=>{e.status="failed",e.errors=t.payload}).addCase(c.pending,e=>{e.errors={},e.status="loading"}).addCase(c.fulfilled,(e,t)=>{e.status="fetchSucceeded",e.teamMembers=t.payload}).addCase(c.rejected,(e,t)=>{e.status="failed",e.errors=t.payload}).addCase(i.pending,(e,t)=>{e.status="loading",e.errors={}}).addCase(i.fulfilled,(e,t)=>{let r=e.projects.findIndex(e=>e.id===t.payload.id);e.projects.splice(r,1),e.status="deleteSucceeded",e.errors={}}).addCase(i.rejected,(e,t)=>{e.status="failed",e.errors=t.payload})}}),{setStatus:u,clearErrors:p}=d.actions;t.ZP=d.reducer},8862:function(e,t,r){"use strict";r.d(t,{CG:function(){return n},TL:function(){return a}});var s=r(1023);let a=s.I0,n=s.v9},4332:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});let s=e=>async(t,r,s)=>{let a={method:e};r&&(a.headers={"Content-Type":"application/json"},a.body=JSON.stringify(r)),s&&(a.headers={...a.headers,Authorization:"Bearer ".concat(s)});let n=await fetch(t,a);return await n.json()},a={get:s("GET"),post:s("POST"),put:s("PUT"),delete:s("DELETE")}},3127:function(e){e.exports={container:"Tiptap_container__Gzag5",tiptapEditor:"Tiptap_tiptapEditor__WX4KH"}},6841:function(e){e.exports={toolbar:"Toolbar_toolbar__TOpIp",button:"Toolbar_button__jYcQj",select:"Toolbar_select__g_b1b"}}}]);