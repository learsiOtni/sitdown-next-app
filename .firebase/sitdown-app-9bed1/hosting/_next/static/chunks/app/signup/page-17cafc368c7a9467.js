(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{6595:function(e,t,a){Promise.resolve().then(a.t.bind(a,6685,23)),Promise.resolve().then(a.t.bind(a,3222,23)),Promise.resolve().then(a.bind(a,279)),Promise.resolve().then(a.bind(a,6605)),Promise.resolve().then(a.bind(a,2546))},2546:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var n=a(7437),s=a(2265),i=a(4033),r=a(8862),l=a(2731),o=a(8957),d=a(1361),u={email:{elementType:"input",config:{id:"email",type:"email",name:"email",placeholder:"Enter email"},value:"",validation:{},valid:!0},firstname:{elementType:"input",config:{id:"firstname",type:"text",name:"firstname",placeholder:"Enter first name"},value:"",validation:{},valid:!0},lastname:{elementType:"input",config:{id:"lastname",type:"text",name:"lastname",placeholder:"Enter last name"},value:"",validation:{},valid:!0},password:{elementType:"input",config:{id:"password",type:"password",name:"password",placeholder:"Enter password"},value:"",validation:{},valid:!0},confirmPassword:{elementType:"input",config:{id:"confirmPassword",type:"password",name:"confirmPassword",placeholder:"Confirm password"},value:"",validation:{},valid:!0}};function c(){let e=(0,r.TL)(),t=(0,r.CG)(e=>e.auth.errors),a=(0,r.CG)(e=>e.auth.isAuth),c=(0,r.CG)(e=>e.auth.credentials.user.id);(0,s.useEffect)(()=>{e((0,l.b9)())},[e]);let A=async t=>{let a=await e((0,l.x4)({userData:t,isSignup:!0}));a.payload.token&&e((0,l.nX)(a.payload.token))};return a&&c&&(0,i.redirect)("/dashboard"),(0,n.jsx)(d.Z,{formFile:u,className:"flex flex-col min-w-full",onSubmit:A,errors:t,children:(0,n.jsx)(o.Z,{type:"submit",className:"text-xl",children:"Register"})})}},2731:function(e,t,a){"use strict";a.d(t,{W$:function(){return p},b9:function(){return A},kS:function(){return f},nX:function(){return o},x4:function(){return l}});var n=a(4302),s=a(7713),i=a(4332);let r={isAuth:!1,credentials:{token:"",user:{id:"",email:"",firstname:"",lastname:"",createdAt:"",image:""}},status:"idle",errors:{}},l=(0,n.hg)("/login",async(e,t)=>{let{userData:a,isSignup:n}=e,{rejectWithValue:r}=t,l="".concat("https://us-central1-sitdown-834fc.cloudfunctions.net/api/","login");n&&(l="".concat("https://us-central1-sitdown-834fc.cloudfunctions.net/api/","signup"));let o=await i.h.post(l,a);return o.token?((0,s.setCookie)("authToken",o.token,{expires:new Date(Date.now()+36e5)}),o):r(o)}),o=(0,n.hg)("/getAuthUser",async(e,t)=>{let{rejectWithValue:a}=t,n=await i.h.get("".concat("https://us-central1-sitdown-834fc.cloudfunctions.net/api/","user"),void 0,e);return n.error?a(n.error):n}),d=(0,n.oM)({name:"auth",initialState:r,reducers:{setAuth:e=>{e.isAuth=!0},setProfileImage:(e,t)=>{e.credentials.user.image=t.payload},setCredentials:(e,t)=>{e.credentials.user=t.payload,e.isAuth=!0},clearErrors:e=>{e.errors={}},logout:e=>((0,s.deleteCookie)("authToken"),r)},extraReducers(e){e.addCase(l.pending,(e,t)=>{e.errors={},e.status="loading"}).addCase(l.fulfilled,(e,t)=>{e.status="succeeded",e.isAuth=!0,e.credentials.token=t.payload.token}).addCase(l.rejected,(e,t)=>{e.status="failed",e.errors=t.payload}).addCase(o.pending,(e,t)=>{e.errors={},e.status="loading"}).addCase(o.fulfilled,(e,t)=>{e.status="succeeded",e.credentials.user=t.payload,e.isAuth=!0}).addCase(o.rejected,(e,t)=>{e.status="failed",e.errors=t.error.message})}}),{setAuth:u,setCredentials:c,clearErrors:A,logout:f,setProfileImage:p}=d.actions;t.ZP=d.reducer},6605:function(e,t,a){"use strict";a.r(t),t.default={src:"/_next/static/media/logo.3db8de2a.png",height:85,width:318,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAAQ0lEQVR4nGPkvX3hoOYbqTTJS6LCfzn//2X4x8DEwMDwCYj/AzEzo9OcD/NY/7If4eDmOPH3z38RkCAQ/wRiFiD+DgAeHxU53/1E3AAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:2}},279:function(e,t,a){"use strict";a.r(t),t.default={src:"/_next/static/media/small-logo.68fdcc73.png",height:85,width:58,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAlUlEQVR42mNgen+viOnD/b9MHx/8Z/p4/wnj18cCDMyPL38H4n8sjy7/Z310ueP///8MDKyXjv5gu3T0P+Plo78Ybu6SAgtyHN2dxHx05xexg/sXgQRAGEJsZ2D1nfT9uN+kH999J/2IAQt6Tf/p7DHj+38ofg0WdFrwdRcQ/4fi+ww2y77o2i778hqI3wPxK9ulX4IANSNmIQMKl4wAAAAASUVORK5CYII=",blurWidth:5,blurHeight:8}}},function(e){e.O(0,[676,572,902,222,336,385,41,971,596,744],function(){return e(e.s=6595)}),_N_E=e.O()}]);